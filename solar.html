<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Небо+ | Наблюдение за звёздами</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Montserrat:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <meta name="theme-color" content="#191919">
</head>
<style>
    /* ========== ОСНОВНОЙ ДИЗАЙН ========== */
    .sky-notice {
        background: linear-gradient(135deg, rgba(139, 92, 246, 0.15), rgba(168, 85, 247, 0.1));
        backdrop-filter: blur(15px);
        -webkit-backdrop-filter: blur(15px);
        border-radius: 14px;
        padding: 12px 15px;
        border: 1.5px solid rgba(139, 92, 246, 0.3);
        margin-bottom: 15px;
        display: flex;
        align-items: center;
        gap: 12px;
        animation: slideDownNotice 0.5s ease-out;
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
    }

    .sky-notice-icon {
        flex-shrink: 0;
        animation: twinkle 2s ease-in-out infinite;
    }

    .sky-notice-text {
        flex: 1;
        font-size: 0.85rem;
        line-height: 1.3;
        color: #bbdefb;
    }

    .sky-notice-text strong {
        color: #ffffff;
        font-weight: 600;
    }

    /* Основной показатель - ясность неба */
    .sky-clarity-value {
        font-size: 3.5rem;
        font-weight: 800;
        line-height: 1;
        margin: 10px 0;
        background: linear-gradient(135deg, #60a5fa, #3b82f6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-shadow: 0 0 10px rgba(59, 130, 246, 0.2);
    }

    .sky-condition {
        font-size: 0.9rem;
        color: #a0a0a0;
        margin-top: 5px;
    }

    /* Градиенты для показателей */
    .indicator-visibility .mobile-detail-value {
        background: linear-gradient(135deg, #60a5fa, #3b82f6);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .indicator-light-pollution .mobile-detail-value {
        background: linear-gradient(135deg, #8b5cf6, #7c3aed);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .indicator-clouds .mobile-detail-value {
        background: linear-gradient(135deg, #94a3b8, #64748b);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .indicator-humidity .mobile-detail-value {
        background: linear-gradient(135deg, #22d3ee, #06b6d4);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    /* Цвета прогресс-баров */
    .indicator-visibility .mobile-progress-fill {
        background: linear-gradient(90deg, #60a5fa, #3b82f6);
    }

    .indicator-light-pollution .mobile-progress-fill {
        background: linear-gradient(90deg, #8b5cf6, #7c3aed);
    }

    .indicator-clouds .mobile-progress-fill {
        background: linear-gradient(90deg, #94a3b8, #64748b);
    }

    .indicator-humidity .mobile-progress-fill {
        background: linear-gradient(90deg, #22d3ee, #06b6d4);
    }

    /* Единицы измерения */
    .mobile-detail-unit {
        font-size: 0.7rem;
        color: #a0a0a0;
        margin-top: 4px;
        font-weight: 600;
    }

    /* Рекомендации */
    .recommendations-box {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 10px;
    }

    .recommendation-item {
        display: flex;
        align-items: flex-start;
        padding: 12px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.08);
        transition: all 0.3s ease;
    }

    .recommendation-item:hover {
        background: rgba(255, 255, 255, 0.08);
        transform: translateX(2px);
    }

    .recommendation-icon {
        width: 20px;
        height: 20px;
        margin-right: 12px;
        flex-shrink: 0;
        color: #60a5fa;
    }

    .recommendation-text {
        flex: 1;
    }

    .recommendation-title {
        font-size: 0.85rem;
        font-weight: 600;
        color: #ffffff;
        margin-bottom: 4px;
    }

    .recommendation-desc {
        font-size: 0.75rem;
        color: #a0a0a0;
        line-height: 1.3;
    }

    /* Шкала видимости */
    .visibility-scale {
        margin-top: 10px;
    }

    .visibility-level-item {
        display: flex;
        align-items: center;
        padding: 10px 12px;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.08);
        margin-bottom: 8px;
        transition: all 0.3s ease;
    }

    .visibility-level-item.active {
        background: rgba(59, 130, 246, 0.15);
        border-color: rgba(59, 130, 246, 0.3);
    }

    .visibility-color {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: 12px;
        flex-shrink: 0;
    }

    .visibility-text {
        flex: 1;
    }

    .visibility-name {
        font-size: 0.9rem;
        font-weight: 700;
        color: #ffffff;
        margin-bottom: 2px;
    }

    .visibility-desc {
        font-size: 0.75rem;
        color: #a0a0a0;
        font-weight: 500;
        line-height: 1.2;
    }

    /* Звёздный фон для заголовка */
    .sky-title {
        background: linear-gradient(135deg, #8b5cf6, #60a5fa);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 5px;
    }

    .location-info {
        font-size: 0.9rem;
        color: #a0a0a0;
        margin-bottom: 15px;
    }

    /* Астрономические данные */
    .astronomy-data {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        margin-top: 10px;
    }

    .data-item {
        background: rgba(255, 255, 255, 0.03);
        border-radius: 10px;
        padding: 12px;
        border: 1px solid rgba(255, 255, 255, 0.05);
        text-align: center;
    }

    .data-value {
        font-size: 1.2rem;
        font-weight: 700;
        color: #ffffff;
        margin-bottom: 4px;
    }

    .data-label {
        font-size: 0.7rem;
        color: #a0a0a0;
        font-weight: 500;
    }

    .data-unit {
        font-size: 0.65rem;
        color: #8b5cf6;
        margin-top: 4px;
    }

    /* Анимации */
    @keyframes slideDownNotice {
        from {
            opacity: 0;
            transform: translateY(-10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes twinkle {
        0%, 100% {
            transform: scale(1);
            opacity: 1;
        }
        50% {
            transform: scale(1.1);
            opacity: 0.8;
        }
    }

    /* Цвета для уровней видимости */
    .visibility-excellent { background: #10b981; }
    .visibility-good { background: #34d399; }
    .visibility-moderate { background: #84cc16; }
    .visibility-poor { background: #f59e0b; }
    .visibility-bad { background: #f97316; }

    /* Адаптивность */
    @media (max-width: 480px) {
        .sky-clarity-value {
            font-size: 3rem;
        }
        
        .recommendation-item {
            padding: 10px;
        }
        
        .astronomy-data {
            grid-template-columns: 1fr 1fr;
        }
    }

    @media (max-width: 380px) {
        .sky-notice {
            padding: 8px 10px;
            gap: 10px;
        }
        
        .sky-notice-text {
            font-size: 0.75rem;
        }
    }
</style>

<body>
    <div class="mobile-weather-container">
        <!-- Навигация -->
        <nav class="floating-nav">
            <div class="nav-container">
                <a href="index.html" class="nav-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </a>
                <a href="index.html" class="nav-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 20V10"></path><path d="M12 20V4"></path><path d="M6 20v-6"></path>
                    </svg>
                </a>
                <a href="sky.html" class="nav-item active">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M12 3l4 4l-2 1l4 4l-3 1l4 4h-14l4 -4l-3 -1l4 -4l-2 -1z" />
                        <path d="M14 17v3a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1v-3" />
                    </svg>
                </a>
                <a href="settings.html" class="nav-item">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="3"></circle>
                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>
                    </svg>
                </a>
            </div>
        </nav>

        <!-- Основная карточка -->
        <div class="mobile-weather-card">
            
            <!-- УВЕДОМЛЕНИЕ -->
            <div class="sky-notice">
                <div class="sky-notice-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 3l-1 9h-2l1-9z"/>
                        <path d="M18 21l-1-9h-2l1 9z"/>
                        <path d="M3 12h2l9 1 9-1h2"/>
                    </svg>
                </div>
                <div class="sky-notice-text">
                    <strong>Небо+ - ваш гид по звёздам</strong><br>
                    Узнайте, где и когда лучше всего наблюдать за звёздами
                </div>
            </div>
            
            <!-- ОСНОВНАЯ ИНФОРМАЦИЯ -->
            <div class="mobile-location">
                <div class="sky-title">Небо+</div>
                <div class="location-info" id="location-info">Определяем ваше местоположение...</div>
                <div class="mobile-date" id="sky-date">--</div>
            </div>

            <!-- Основной показатель - ясность неба -->
            <div class="mobile-weather-main">
                <div class="mobile-temperature sky-clarity-value" id="sky-clarity">--%</div>
                <div class="mobile-description" id="observation-status">Анализируем условия...</div>
                <div class="mobile-description sky-condition" id="sky-condition">
                    Оценка условий для наблюдений
                </div>
            </div>

            <!-- Основные показатели -->
            <div class="mobile-details-grid">
                <div class="mobile-detail-card indicator-visibility">
                    <div class="mobile-detail-value" id="visibility-value">-- км</div>
                    <div class="mobile-detail-label">Видимость</div>
                    <div class="mobile-progress-bar">
                        <div class="mobile-progress-fill" id="visibility-bar"></div>
                    </div>
                    <div class="mobile-detail-unit">дальность</div>
                </div>
                
                <div class="mobile-detail-card indicator-light-pollution">
                    <div class="mobile-detail-value" id="light-pollution-value">--</div>
                    <div class="mobile-detail-label">Свет. загрязнение</div>
                    <div class="mobile-progress-bar">
                        <div class="mobile-progress-fill" id="light-bar"></div>
                    </div>
                    <div class="mobile-detail-unit">Бортле</div>
                </div>
                
                <div class="mobile-detail-card indicator-clouds">
                    <div class="mobile-detail-value" id="clouds-value">--%</div>
                    <div class="mobile-detail-label">Облачность</div>
                    <div class="mobile-progress-bar">
                        <div class="mobile-progress-fill" id="clouds-bar"></div>
                    </div>
                    <div class="mobile-detail-unit">покрытие</div>
                </div>
                
                <div class="mobile-detail-card indicator-humidity">
                    <div class="mobile-detail-value" id="humidity-value">--%</div>
                    <div class="mobile-detail-label">Влажность</div>
                    <div class="mobile-progress-bar">
                        <div class="mobile-progress-fill" id="humidity-bar"></div>
                    </div>
                    <div class="mobile-detail-unit">относит.</div>
                </div>
            </div>

            <!-- Карточки с данными -->
            <div class="mobile-additional-cards">
                <!-- Рекомендации -->
                <div class="mobile-additional-card">
                    <div class="mobile-card-title">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 3l-1 9h-2l1-9z"/>
                            <path d="M18 21l-1-9h-2l1 9z"/>
                            <path d="M3 12h2l9 1 9-1h2"/>
                        </svg>
                        Рекомендации
                    </div>
                    <div class="recommendations-box" id="recommendations">
                        <!-- Заполнится через JS -->
                    </div>
                </div>

                <!-- Астрономические данные -->
                <div class="mobile-additional-card">
                    <div class="mobile-card-title">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="4"/>
                            <path d="M12 2v2"/>
                        </svg>
                        Астрономические данные
                    </div>
                    <div class="astronomy-data">
                        <div class="data-item">
                            <div class="data-value" id="moon-phase">--</div>
                            <div class="data-label">Фаза Луны</div>
                        </div>
                        <div class="data-item">
                            <div class="data-value" id="visible-stars">--</div>
                            <div class="data-label">Видимых звёзд</div>
                            <div class="data-unit">до 6.5m</div>
                        </div>
                    </div>
                </div>

                <!-- Шкала видимости -->
                <div class="mobile-additional-card">
                    <div class="mobile-card-title">
                        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 2v4"/><path d="m16.24 7.76 2.83-2.83"/><path d="M18 12h4"/>
                        </svg>
                        Шкала видимости
                    </div>
                    <div class="visibility-scale" id="visibility-scale">
                        <!-- Шкала загрузится через JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Ошибка -->
    <div class="error-overlay" id="errorOverlay">
        <div class="error-card">
            <div class="error-icon">
                <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10"></circle>
                    <line x1="12" y1="8" x2="12" y2="12"></line>
                    <line x1="12" y1="16" x2="12.01" y2="16"></line>
                </svg>
            </div>
            <div class="error-content">
                <h3 class="error-title">Нет данных о местоположении</h3>
                <p class="error-message">Разрешите доступ к геолокации для работы сервиса</p>
            </div>
            <button class="error-button" onclick="hideError()">Повторить</button>
        </div>
    </div>

    <script src="sky-script.js"></script>
</body>
</html>